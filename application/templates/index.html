<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/index.css') }}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <title>Emotion recognition app</title>
</head>

<body>
    <div class="greeter">
        {{ user.username }}
        <a style="float:right; text-align: right;" href="{{ url_for('logout') }}">Log Out</a>
    </div>

    <div class="header">
        <p class="headline">Tasks</p>
        <div>
            <!-- <button class="new-task-button" onclick="">New Task</button> -->
            <!-- Trigger the modal with a button -->
            <button type="button" class="new-task-button" data-toggle="modal" data-target="#myModal">New
                Task</button>

            <!-- Modal -->
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Upload video file to recognize</h4>
                        </div>
                        <div class="modal-body">
                            <form enctype="multipart/form-data" accept="application/json" action="/tasks/add"
                                method="post">
                                <input type="file" id="myFile" name="file" accept="video/*">
                                <input type="submit">
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <table class="styled-table" id="task-table">
        <thead>
            <tr>
                <th>Task ID</th>
                <th>Status</th>
                <th class="centred-th-style">Result Video</th>
                <th class="centred-th-style">Result metadata</th>
                <th class="centred-th-style">Delete</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <script src="{{ url_for('static', path='/js/fill-table.js') }}"></script>

</body>

</html>